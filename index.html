<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–æ–∫—Å–µ–ª—å–Ω—ã–µ –í—Ä–∞—Ç–∞</title>
    <script src="https://unpkg.com/three@0.132.2/build/three.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container"></div>
    
    <div id="ui-overlay">
        <div class="health-text" id="health-text">100/100</div>
        <div class="health-bar">
            <div class="health-fill" id="health-fill"></div>
        </div>
        
        <div class="score-display">
            –°—á–µ—Ç: <span id="score">0</span>
        </div>
        
        <div class="ability-display">
            <div class="ability-icon" id="ability-x2" title="x2 –ú–Ω–æ–∂–∏—Ç–µ–ª—å">x2</div>
            <div class="ability-icon" id="ability-x3" title="x3 –ú–Ω–æ–∂–∏—Ç–µ–ª—å">x3</div>
            <div class="ability-icon" id="ability-x5" title="x5 –ú–Ω–æ–∂–∏—Ç–µ–ª—å">x5</div>
        </div>
        
        <div class="weapon-display">
            <div class="weapon-name" id="weapon-name">–í–û–ö–°–ï–õ–¨–ù–´–ô –ú–ï–ß</div>
            <div class="weapon-stats">
                <span>–£—Ä–æ–Ω: <span id="weapon-damage">10</span></span>
                <span>–°–∫–æ—Ä–æ—Å—Ç—å: <span id="weapon-speed">1.0</span></span>
            </div>
        </div>
        
        <div class="army-count">
            <span id="army-count">1</span>
            <div class="army-text">–í–û–ò–ù–û–í</div>
        </div>
        
        <div class="platform-indicator">
            <span>–í—Ä–∞—Ç–∞: </span>
            <span id="current-gate">+1</span>
        </div>
        
        <div class="crosshair">
            <div class="crosshair-dot"></div>
        </div>
        
        <div class="swipe-hint" id="swipe-hint">
            –°–º–∞—Ö–∏–≤–∞–π—Ç–µ –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤—Ä–∞—Ç
        </div>
        
        <div class="mobile-controls">
            <button class="mobile-btn" id="btn-left">‚Üê</button>
            <button class="mobile-btn" id="btn-right">‚Üí</button>
        </div>
        
        <div class="instructions" id="instructions">
            <h2>–í–û–ö–°–ï–õ–¨–ù–´–ï –í–†–ê–¢–ê</h2>
            <p>‚öîÔ∏è –°–æ–±–∏—Ä–∞–π—Ç–µ –∞—Ä–º–∏—é –≤–æ–∫—Å–µ–ª—å–Ω—ã—Ö –≤–æ–∏–Ω–æ–≤</p>
            <p>üéØ –ü—Ä–æ—Ö–æ–¥–∏—Ç–µ —á–µ—Ä–µ–∑ –º–∞–≥–∏—á–µ—Å–∫–∏–µ –≤—Ä–∞—Ç–∞</p>
            <p>üî¥ –ö—Ä–∞—Å–Ω—ã–µ –≤—Ä–∞—Ç–∞ - –æ–ø–∞—Å–Ω–æ—Å—Ç—å</p>
            <p>üü¢ –ó–µ–ª–µ–Ω—ã–µ –≤—Ä–∞—Ç–∞ - —É–º–Ω–æ–∂–µ–Ω–∏–µ –∞—Ä–º–∏–∏</p>
            <p>üîµ –°–∏–Ω–∏–µ –≤—Ä–∞—Ç–∞ - —É–ª—É—á—à–µ–Ω–∏–µ –æ—Ä—É–∂–∏—è</p>
            <p>üêâ –°—Ä–∞–∂–∞–π—Ç–µ—Å—å —Å –±–æ—Å—Å–∞–º–∏</p>
            <ul>
                <li>–ú—ã—à—å/—Ç–∞—á - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</li>
                <li>A/D –∏–ª–∏ —Å–≤–∞–π–ø - –≤—ã–±–æ—Ä –≤—Ä–∞—Ç</li>
                <li>–ö–ª–∏–∫/—Ç–∞–ø - –∞—Ç–∞–∫–∞</li>
                <li>–ü—Ä–æ–±–µ–ª - –æ—Å–æ–±–æ–µ —É–º–µ–Ω–∏–µ</li>
            </ul>
            <button class="start-btn" id="start-btn">–ù–ê–ß–ê–¢–¨ –ü–£–¢–ï–®–ï–°–¢–í–ò–ï</button>
        </div>
    </div>
    
    <div class="game-over" id="game-over">
        <h1>–ü–£–¢–ï–®–ï–°–¢–í–ò–ï –ó–ê–ö–û–ù–ß–ï–ù–û</h1>
        <p>–†–∞–∑–º–µ—Ä –∞—Ä–º–∏–∏: <span id="final-army">0</span> –≤–æ–∏–Ω–æ–≤</p>
        <p>–°—á–µ—Ç: <span id="final-score">0</span></p>
        <p>–ü—Ä–æ–π–¥–µ–Ω–æ –≤—Ä–∞—Ç: <span id="gates-passed">0</span></p>
        <p>–†–µ–∫–æ—Ä–¥: <span id="high-score">0</span></p>
        <button class="restart-btn" id="restart-btn">–ù–û–í–û–ï –ü–£–¢–ï–®–ï–°–¢–í–ò–ï</button>
    </div>
    
    <div class="gate-notification" id="gate-notification">
        –ê–†–ú–ò–Ø –£–ú–ù–û–ñ–ï–ù–ê x2!
    </div>

    <script src="voxel.js"></script>
    <script src="game.js"></script>
    <script src="ui.js"></script>
    <script src="controls.js"></script>
    <script>
        // –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        function initGame() {
            console.log('=== –ó–ê–ü–£–°–ö –ò–ì–†–´ ===');
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
            Game.init();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI (–ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–≥—Ä—ã)
            setTimeout(() => {
                UI.init();
            }, 100);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            Controls.init();
            
            console.log('=== –ò–ì–†–ê –ì–û–¢–û–í–ê ===');
        }
        
        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', initGame);
    </script>
</body>
</html>
